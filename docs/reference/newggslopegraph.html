<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot a Slopegraph a la Tufte using dplyr and ggplot2 — newggslopegraph • CGPfunctions</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot a Slopegraph a la Tufte using dplyr and ggplot2 — newggslopegraph" />
<meta property="og:description" content="Creates a &quot;slopegraph&quot; as conceptualized by Edward Tufte. Slopegraphs are minimalist
and efficient presentations of your data that can simultaneously convey the relative rankings,
the actual numeric values, and the changes and directionality of the data over time.
Takes a dataframe as input, with three named columns being used to draw the plot.
Makes the required adjustments to the ggplot2 parameters and returns the plot." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117082388-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117082388-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CGPfunctions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Using-Plot2WayANOVA.html">Using Plot2WayAnova</a>
    </li>
    <li>
      <a href="../articles/Using-PlotXTabs.html">Using PlotXTabs</a>
    </li>
    <li>
      <a href="../articles/Using-PlotXTabs2.html">Using PlotXTabs2</a>
    </li>
    <li>
      <a href="../articles/Using-chaid_table.html">Using chaid_table</a>
    </li>
    <li>
      <a href="../articles/Using-newggslopegraph.html">Using newggslopegraph</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ibecav/CGPfunctions/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot a Slopegraph a la Tufte using dplyr and ggplot2</h1>
    <small class="dont-index">Source: <a href='https://github.com/ibecav/CGPfunctions/blob/master/R/newggslopegraph.R'><code>R/newggslopegraph.R</code></a></small>
    <div class="hidden name"><code>newggslopegraph.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a "slopegraph" as conceptualized by Edward Tufte. Slopegraphs are minimalist
and efficient presentations of your data that can simultaneously convey the relative rankings,
the actual numeric values, and the changes and directionality of the data over time.
Takes a dataframe as input, with three named columns being used to draw the plot.
Makes the required adjustments to the ggplot2 parameters and returns the plot.</p>
    </div>

    <pre class="usage"><span class='fu'>newggslopegraph</span><span class='op'>(</span>
  <span class='va'>dataframe</span>,
  <span class='va'>Times</span>,
  <span class='va'>Measurement</span>,
  <span class='va'>Grouping</span>,
  Data.label <span class='op'>=</span> <span class='cn'>NULL</span>,
  Title <span class='op'>=</span> <span class='st'>"No title given"</span>,
  SubTitle <span class='op'>=</span> <span class='st'>"No subtitle given"</span>,
  Caption <span class='op'>=</span> <span class='st'>"No caption given"</span>,
  XTextSize <span class='op'>=</span> <span class='fl'>12</span>,
  YTextSize <span class='op'>=</span> <span class='fl'>3</span>,
  TitleTextSize <span class='op'>=</span> <span class='fl'>14</span>,
  SubTitleTextSize <span class='op'>=</span> <span class='fl'>10</span>,
  CaptionTextSize <span class='op'>=</span> <span class='fl'>8</span>,
  TitleJustify <span class='op'>=</span> <span class='st'>"left"</span>,
  SubTitleJustify <span class='op'>=</span> <span class='st'>"left"</span>,
  CaptionJustify <span class='op'>=</span> <span class='st'>"right"</span>,
  LineThickness <span class='op'>=</span> <span class='fl'>1</span>,
  LineColor <span class='op'>=</span> <span class='st'>"ByGroup"</span>,
  DataTextSize <span class='op'>=</span> <span class='fl'>2.5</span>,
  DataTextColor <span class='op'>=</span> <span class='st'>"black"</span>,
  DataLabelPadding <span class='op'>=</span> <span class='fl'>0.05</span>,
  DataLabelLineSize <span class='op'>=</span> <span class='fl'>0</span>,
  DataLabelFillColor <span class='op'>=</span> <span class='st'>"white"</span>,
  WiderLabels <span class='op'>=</span> <span class='cn'>FALSE</span>,
  ReverseYAxis <span class='op'>=</span> <span class='cn'>FALSE</span>,
  ReverseXAxis <span class='op'>=</span> <span class='cn'>FALSE</span>,
  RemoveMissing <span class='op'>=</span> <span class='cn'>TRUE</span>,
  ThemeChoice <span class='op'>=</span> <span class='st'>"bw"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataframe</th>
      <td><p>a dataframe or an object that can be coerced to a dataframe.
Basic error checking is performed, to include ensuring that the named columns
exist in the dataframe. See the <code><a href='newcancer.html'>newcancer</a></code> dataset for an example of
how the dataframe should be organized.</p></td>
    </tr>
    <tr>
      <th>Times</th>
      <td><p>a column inside the dataframe that will be plotted on the x axis.
Traditionally this is some measure of time.  The function accepts a column of class
ordered, factor or character.  NOTE if your variable is currently a "date" class
you must convert before using the function with <code><a href='https://rdrr.io/r/base/character.html'>as.character(variablename)</a></code>.</p></td>
    </tr>
    <tr>
      <th>Measurement</th>
      <td><p>a column inside the dataframe that will be plotted on the y axis.
Traditionally this is some measure such as a percentage.  Currently the function
accepts a column of type integer or numeric.  The slopegraph will be most effective
when the measurements are not too disparate.</p></td>
    </tr>
    <tr>
      <th>Grouping</th>
      <td><p>a column inside the dataframe that will be used to group and
distinguish measurements.</p></td>
    </tr>
    <tr>
      <th>Data.label</th>
      <td><p>an optional column inside the dataframe that will be used
as the label for the data points plotted.  Can be complex strings and
have `NA` values but must be of class `chr`.  By default `Measurement` is
converted to `chr` and used.</p></td>
    </tr>
    <tr>
      <th>Title</th>
      <td><p>Optionally the title to be displayed. Title = NULL will remove it
entirely. Title = "" will provide an empty title but retain the spacing.</p></td>
    </tr>
    <tr>
      <th>SubTitle</th>
      <td><p>Optionally the sub-title to be displayed.  SubTitle = NULL
will remove it entirely. SubTitle = "" will provide and empty title but retain
the spacing.</p></td>
    </tr>
    <tr>
      <th>Caption</th>
      <td><p>Optionally the caption to be displayed. Caption = NULL will remove
it entirely. Caption = "" will provide and empty title but retain the spacing.</p></td>
    </tr>
    <tr>
      <th>XTextSize</th>
      <td><p>Optionally the font size for the X axis labels to be displayed. XTextSize = 12 is the default must be a numeric. Note that X &amp; Y axis text are on different scales</p></td>
    </tr>
    <tr>
      <th>YTextSize</th>
      <td><p>Optionally the font size for the Y axis labels to be displayed.
YTextSize = 3 is the default must be a numeric. Note that X &amp; Y axis text are on
different scales</p></td>
    </tr>
    <tr>
      <th>TitleTextSize</th>
      <td><p>Optionally the font size for the Title to be displayed.
TitleTextSize = 14 is the default must be a numeric.</p></td>
    </tr>
    <tr>
      <th>SubTitleTextSize</th>
      <td><p>Optionally the font size for the SubTitle to be displayed.
SubTitleTextSize = 10 is the default must be a numeric.</p></td>
    </tr>
    <tr>
      <th>CaptionTextSize</th>
      <td><p>Optionally the font size for the Caption to be displayed.
CaptionTextSize = 8 is the default must be a numeric.</p></td>
    </tr>
    <tr>
      <th>TitleJustify</th>
      <td><p>Justification of title can be either a character "L",
"R" or "C" or use the <code>hjust = </code> notation from <code>ggplot2</code> with
a numeric value between `0` (left) and `1` (right).</p></td>
    </tr>
    <tr>
      <th>SubTitleJustify</th>
      <td><p>Justification of subtitle can be either a character "L",
"R" or "C" or use the <code>hjust = </code> notation from <code>ggplot2</code> with
a numeric value between `0` (left) and `1` (right).</p></td>
    </tr>
    <tr>
      <th>CaptionJustify</th>
      <td><p>Justification of caption can be either a character "L",
"R" or "C" or use the <code>hjust = </code> notation from <code>ggplot2</code> with
a numeric value between `0` (left) and `1` (right).</p></td>
    </tr>
    <tr>
      <th>LineThickness</th>
      <td><p>Optionally the thickness of the plotted lines that
connect the data points. LineThickness = 1 is the default must be a numeric.</p></td>
    </tr>
    <tr>
      <th>LineColor</th>
      <td><p>Optionally the color of the plotted lines. By default it will use
the ggplot2 color palette for coloring by <code>Grouping</code>. The user may override
with <b>one</b> valid color of their choice e.g. "black" (see colors() for choices)
<b>OR</b>
they may provide a vector of colors such as c("gray", "red", "green", "gray", "blue")
<b>OR</b> a named vector like c("Green" = "gray", "Liberal" = "red", "NDP" = "green",
"Others" = "gray", "PC" = "blue"). Any input must be character, and the length
of a vector <b>should</b> equal the number of levels in <code>Grouping</code>. If the
user does not provide enough colors they will be recycled.</p></td>
    </tr>
    <tr>
      <th>DataTextSize</th>
      <td><p>Optionally the font size of the plotted data points. DataTextSize = 2.5
is the default must be a numeric.</p></td>
    </tr>
    <tr>
      <th>DataTextColor</th>
      <td><p>Optionally the font color of the plotted data points. `"black"`
is the default can be either `colors()` or hex value e.g. "#FF00FF".</p></td>
    </tr>
    <tr>
      <th>DataLabelPadding</th>
      <td><p>Optionally the amount of space between the plotted
data point numbers and the label "box". By default very small = 0.05 to
avoid overlap. Must be a numeric. Too large a value will risk "hiding"
datapoints.</p></td>
    </tr>
    <tr>
      <th>DataLabelLineSize</th>
      <td><p>Optionally how wide a line to plot around the data
label box. By default = 0 to have no visible border line around the
label. Must be a numeric.</p></td>
    </tr>
    <tr>
      <th>DataLabelFillColor</th>
      <td><p>Optionally the fill color or background of the
plotted data points. `"white"` is the default can be any of the `colors()`
or hex value e.g. "#FF00FF".</p></td>
    </tr>
    <tr>
      <th>WiderLabels</th>
      <td><p>logical, set this value to <code>TRUE</code> if your "labels" or
<code>Grouping</code> variable values tend to be long as they are in the <code>newcancer</code>
dataset.  This setting will give them more room in the same plot size.</p></td>
    </tr>
    <tr>
      <th>ReverseYAxis</th>
      <td><p>logical, set this value to <code>TRUE</code> if you want
to reverse the Y scale, especially useful for rankings when you want #1 on
top.</p></td>
    </tr>
    <tr>
      <th>ReverseXAxis</th>
      <td><p>logical, set this value to <code>TRUE</code> if you want
to reverse the **factor levels** on the X scale.</p></td>
    </tr>
    <tr>
      <th>RemoveMissing</th>
      <td><p>logical, by default set to <code>TRUE</code> so that if any <code>Measurement</code>
is missing <b>all rows</b> for that <code>Grouping</code> are removed. If set to <code>FALSE</code> then
the function will try to remove and graph what data it does have. <b>N.B.</b> missing values
for <code>Times</code> and <code>Grouping</code> are never permitted and will generate a fatal error with
a warning.</p></td>
    </tr>
    <tr>
      <th>ThemeChoice</th>
      <td><p>character, by default set to <b>"bw"</b> the other
choices are <b>"ipsum"</b>, <b>"econ"</b>, <b>"wsj"</b>, <b>"gdocs"</b>,
and <b>"tufte"</b>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a plot of type ggplot to the default plot device</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Based on: Edward Tufte, Beautiful Evidence (2006), pages 174-176.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='newcancer.html'>newcancer</a></code> and  <code><a href='newgdp.html'>newgdp</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Chuck Powell</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># the minimum command to generate a plot</span>
<span class='fu'>newggslopegraph</span><span class='op'>(</span><span class='va'>newcancer</span>, <span class='va'>Year</span>, <span class='va'>Survival</span>, <span class='va'>Type</span><span class='op'>)</span>
</div><div class='img'><img src='newggslopegraph-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># adding a title which is always recommended</span>
<span class='fu'>newggslopegraph</span><span class='op'>(</span><span class='va'>newcancer</span>, <span class='va'>Year</span>, <span class='va'>Survival</span>, <span class='va'>Type</span>,
  Title <span class='op'>=</span> <span class='st'>"Estimates of Percent Survival Rates"</span>,
  SubTitle <span class='op'>=</span> <span class='cn'>NULL</span>,
  Caption <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>
</div><div class='img'><img src='newggslopegraph-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># simple formatting changes</span>
<span class='fu'>newggslopegraph</span><span class='op'>(</span><span class='va'>newcancer</span>, <span class='va'>Year</span>, <span class='va'>Survival</span>, <span class='va'>Type</span>,
  Title <span class='op'>=</span> <span class='st'>"Estimates of Percent Survival Rates"</span>,
  LineColor <span class='op'>=</span> <span class='st'>"darkgray"</span>,
  LineThickness <span class='op'>=</span> <span class='fl'>.5</span>,
  SubTitle <span class='op'>=</span> <span class='cn'>NULL</span>,
  Caption <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>
</div><div class='img'><img src='newggslopegraph-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># complex formatting with recycling and wider labels see vignette for more examples</span>
<span class='fu'>newggslopegraph</span><span class='op'>(</span><span class='va'>newcancer</span>, <span class='va'>Year</span>, <span class='va'>Survival</span>, <span class='va'>Type</span>,
  Title <span class='op'>=</span> <span class='st'>"Estimates of Percent Survival Rates"</span>,
  SubTitle <span class='op'>=</span> <span class='st'>"Based on: Edward Tufte, Beautiful Evidence, 174, 176."</span>,
  Caption <span class='op'>=</span> <span class='st'>"https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0003nk"</span>,
  LineColor <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"black"</span>, <span class='st'>"red"</span>, <span class='st'>"grey"</span><span class='op'>)</span>,
  LineThickness <span class='op'>=</span> <span class='fl'>.5</span>,
  WiderLabels <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>You gave me 3 colors I'm recycling colors because you have 24 Types</span></div><div class='img'><img src='newggslopegraph-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># not a great example but demonstrating functionality</span>
<span class='va'>newgdp</span><span class='op'>$</span><span class='va'>rGDP</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>newgdp</span><span class='op'>$</span><span class='va'>GDP</span><span class='op'>)</span>

<span class='fu'>newggslopegraph</span><span class='op'>(</span><span class='va'>newgdp</span>,
  <span class='va'>Year</span>,
  <span class='va'>rGDP</span>,
  <span class='va'>Country</span>,
  LineColor <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"grey"</span>, <span class='fl'>3</span><span class='op'>)</span>, <span class='st'>"red"</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"grey"</span>, <span class='fl'>11</span><span class='op'>)</span><span class='op'>)</span>,
  DataTextSize <span class='op'>=</span> <span class='fl'>3</span>,
  DataLabelFillColor <span class='op'>=</span> <span class='st'>"gray"</span>,
  DataLabelPadding <span class='op'>=</span> <span class='fl'>.2</span>,
  DataLabelLineSize <span class='op'>=</span> <span class='fl'>.5</span>
<span class='op'>)</span>
</div><div class='img'><img src='newggslopegraph-5.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Chuck Powell.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


